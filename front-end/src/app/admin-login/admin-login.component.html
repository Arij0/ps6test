<!-- admin-login.component.html -->
<div class="admin-login-container">
    <div class="login-card-wrapper">
      <div class="login-card">
        <div class="login-header">
          <div class="logo-container">
            <div class="logo-circle">
              <i class="fa fa-lock"></i>
            </div>
          </div>
          <h1>Administration</h1>
          <p>Connectez-vous pour accéder au panneau administrateur</p>
        </div>
  
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <div class="form-group">
            <label for="username">Nom d'utilisateur</label>
            <div class="input-with-icon">
              <i class="fa fa-user"></i>
              <input
                type="text"
                formControlName="username"
                id="username"
                [ngClass]="{ 'is-invalid': submitted && f['username'].errors }"
                placeholder="Entrez votre nom d'utilisateur"
              />
            </div>
            <div *ngIf="submitted && f['username'].errors" class="error-message">
              <div *ngIf="f['username'].errors['required']">Nom d'utilisateur requis</div>
              <div *ngIf="f['username'].errors['minlength']">Le nom d'utilisateur doit contenir au moins 4 caractères</div>
            </div>
          </div>
  
          <div class="form-group">
            <label for="password">Mot de passe</label>
            <div class="input-with-icon">
              <i class="fa fa-key"></i>
              <input
                [type]="hidePassword ? 'password' : 'text'"
                formControlName="password"
                id="password"
                [ngClass]="{ 'is-invalid': submitted && f['password'].errors }"
                placeholder="Entrez votre mot de passe"
              />
              <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
                <i class="fa" [ngClass]="hidePassword ? 'fa-eye' : 'fa-eye-slash'"></i>
              </button>
            </div>
            <div *ngIf="submitted && f['password'].errors" class="error-message">
              <div *ngIf="f['password'].errors['required']">Mot de passe requis</div>
              <div *ngIf="f['password'].errors['minlength']">Le mot de passe doit contenir au moins 6 caractères</div>
            </div>
          </div>
  
          <div class="form-options">
            <div class="remember-me">
              <input type="checkbox" id="rememberMe" formControlName="rememberMe">
              <label for="rememberMe">Se souvenir de moi</label>
            </div>
            <a href="#" class="forgot-password">Mot de passe oublié?</a>
          </div>
  
          <div class="alert error" *ngIf="errorMessage">
            <i class="fa fa-exclamation-circle"></i> {{errorMessage}}
          </div>
          
          <div class="alert success" *ngIf="successMessage">
            <i class="fa fa-check-circle"></i> {{successMessage}}
          </div>
  
          <div class="form-group">
            <button [disabled]="loading" class="login-button">
              <span *ngIf="loading" class="spinner"></span>
              <span *ngIf="!loading">Connexion</span>
            </button>
          </div>
        </form>
        
        <div class="login-footer">
          <p>Système d'administration v2.0</p>
          <p class="copyright">© 2025 Votre Entreprise</p>
        </div>
      </div>
    </div>
  </div>